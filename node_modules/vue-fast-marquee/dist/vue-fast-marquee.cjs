"use strict";Object.defineProperties(exports,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}});const e=require("vue"),B=e.defineComponent({__name:"Marquee",props:{style:{default:()=>()=>({})},class:{default:""},autoFill:{type:Boolean,default:!1},play:{type:Boolean,default:!0},pauseOnHover:{type:Boolean,default:!1},pauseOnClick:{type:Boolean,default:!1},direction:{default:"left"},speed:{default:50},delay:{default:0},loop:{default:0},gradient:{type:Boolean,default:!1},gradientColor:{default:"white"},gradientWidth:{default:200}},emits:["finish","cycleComplete"],setup(t,{emit:u}){const y=u,i=e.ref(),o=e.ref(),m=e.ref(0),s=e.ref(0),r=e.ref(1),v=e.ref(!1),d=e.ref(),S=e.computed(()=>t.autoFill?s.value*r.value/t.speed:s<m?m.value/t.speed:s.value/t.speed),C=e.computed(()=>({...t.style,"--pause-on-hover":!t.play||t.pauseOnHover?"paused":"running","--pause-on-click":!t.play||t.pauseOnHover&&!t.pauseOnClick||t.pauseOnClick?"paused":"running","--width":t.direction==="up"||t.direction==="down"?"100vh":"100%","--transform":t.direction==="up"?"rotate(-90deg)":t.direction==="down"?"rotate(90deg)":"none"})),q=e.computed(()=>({"--gradient-color":t.gradientColor,"--gradient-width":typeof t.gradientWidth=="number"?`${t.gradientWidth}px`:t.gradientWidth})),g=e.computed(()=>({"--play":t.play?"running":"paused","--direction":t.direction==="left"?"normal":"reverse","--duration":`${S.value}s`,"--delay":`${t.delay}s`,"--iteration-count":t.loop?`${t.loop}`:"infinite","--min-width":t.autoFill?"auto":"100%"})),f=e.computed(()=>({"--transform":t.direction==="up"?"rotate(90deg)":t.direction==="down"?"rotate(-90deg)":"none"})),h=()=>{if(o.value&&i.value){const l=i.value.getBoundingClientRect(),a=o.value.getBoundingClientRect();let n=l.width,c=a.width;(t.direction==="up"||t.direction==="down")&&(n=l.height,c=a.height),t.autoFill&&n&&c?r.value=c<n?Math.ceil(n/c):1:r.value=1,m.value=n,s.value=c}},k=l=>[...Array(Number.isFinite(l)&&l>=0?l:0)];return e.watch([()=>t.autoFill,()=>t.direction,v,i],()=>{v.value&&(h(),o.value&&i.value&&(d.value&&d.value.disconnect(),d.value=new ResizeObserver(()=>h()),d.value.observe(i.value),d.value.observe(o.value)))}),e.onMounted(()=>{v.value=!0}),(l,a)=>v.value?(e.openBlock(),e.createElementBlock("div",{key:0,ref_key:"containerRef",ref:i,class:e.normalizeClass(["vfm-marquee-container",t.class]),style:e.normalizeStyle(C.value)},[l.gradient?(e.openBlock(),e.createElementBlock("div",{key:0,style:e.normalizeStyle(q.value),class:"vfm-overlay"},null,4)):e.createCommentVNode("",!0),e.createElementVNode("div",{class:"vfm-marquee",style:e.normalizeStyle(g.value),onAnimationiteration:a[0]||(a[0]=n=>y("cycleComplete")),onAnimationend:a[1]||(a[1]=n=>y("finish"))},[e.createElementVNode("div",{style:e.normalizeStyle(f.value),class:"vfm-parent",ref_key:"marqueeRef",ref:o},[e.renderSlot(l.$slots,"default")],4),(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(k(r.value-1),n=>(e.openBlock(),e.createElementBlock("div",{style:e.normalizeStyle(f.value),class:"vfm-parent"},[e.renderSlot(l.$slots,"default")],4))),256))],36),e.createElementVNode("div",{class:"vfm-marquee",style:e.normalizeStyle(g.value)},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(k(r.value),n=>(e.openBlock(),e.createElementBlock("div",{style:e.normalizeStyle(f.value),class:"vfm-parent"},[e.renderSlot(l.$slots,"default")],4))),256))],4)],6)):e.createCommentVNode("",!0)}}),w={install(t,u){t.component((u==null?void 0:u.name)??"Marquee",B)}};exports.Marquee=B;exports.default=w;
